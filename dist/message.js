!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):"object"==typeof exports?exports.message=t(require("vue")):e.message=t(e.vue)}("undefined"!=typeof self?self:this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var s=o[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=0)}([function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=o(1),r=n(l),a=o(5),i=n(a);t.default=function(){var e=i.default.extend(r.default),t=null,o=null,n={initCallback:null,autoHide:!0,isShowMask:!1,icon:"",delay:0,className:null,contents:null,title:null,height:null,buttons:[]},l=function(e){if(e&&"function"==typeof e){for(var n=[],s=1,l=arguments.length;s<l;s++)n.push(arguments[s]);if(n.push(t.$refs.body),!1===e.apply(null,n))return}t&&(t.destroy(),t.$el.parentNode.removeChild(t.$el),t=null),o&&(clearTimeout(o),o=null)},a=function(o){return t=new e({el:document.createElement("div"),data:o}),t.onClose=l,t},c=function(e){var s=Object.assign({},n,e,{show:!1});if(t){t.reset();for(var r in s)t.hasOwnProperty(r)&&(t[r]=s[r])}else t=a(s),document.body.appendChild(t.$el);return t.init(),o&&(clearTimeout(o),o=null),"number"==typeof s.delay&&s.delay>100&&(o=setTimeout(function(){return l(s.onEscape)},s.delay)),t},u=function(e,t,o,n){var l={};return"object"===(void 0===e?"undefined":s(e))?l=Object.assign({},e):"string"==typeof e&&(l.contents=e),"number"==typeof o?l.delay=o:"object"===(void 0===o?"undefined":s(o))&&(l=Object.assign(l,o)),l.className||(l.className=n),l.scrollerData=!0,l.icon||(l.icon="message-icon-"+n),t&&(l.onEscape=t),l},f=function e(t){return"string"==typeof t?e.info(t):t.type&&e[t.type]?e[t.type](t):"object"===(void 0===t?"undefined":s(t))?c(t):void 0};return Object.assign(f,{success:function(e,t,o){var n=u(e||"成功了!",t,o,"success");return n.delay||(n.delay=2e3),c(n)},info:function(e,t,o){var n=u(e,t,o,"info");return n.delay||(n.delay=2e3),c(n)},warning:function(e,t,o){var n=u(e,t,o,"warning");return n.delay||(n.delay=2e3),c(n)},error:function(e,t,o){var n=u(e||"出错了!",t,Object.assign(o||{},{isShowMask:!0}),"error");return n.delay||(n.delay=3e4),c(n)},alert:function(e,t,o,n){var l={title:o||"提示",className:"alert",autoHide:!1,isShowMask:!0,scrollerData:!0,buttons:[{className:"alert",label:n||"确认",callback:t}]};return"object"===(void 0===e?"undefined":s(e))?l=Object.assign(l,e):"string"==typeof e&&(l.contents=e),c(l)},confirm:function(e,t,o,n){var l={title:n||"提示",className:"confirm",contents:e,isShowMask:!0,autoHide:!1,scrollerData:!0,buttons:[{className:"cancel",label:"取消",callback:function(e){t(!1,e)}},{className:"ok",label:"确认",callback:function(e){t(!0,e)}}]};return"object"===(void 0===e?"undefined":s(e))?l=Object.assign(l,e):"string"==typeof e&&(l.contents=e),o&&(l.buttons=o),c(l)},prompt:function(e,t,o,n){var l={title:e||"提示",className:"prompt",contents:"<input class='input-text' autocomplete='off' type='text' placeholder='请输入内容' />",isShowMask:!0,autoHide:!1,buttons:[{className:"cancel",label:"取消",callback:function(e){t&&"function"==typeof t&&t(!1,e.querySelector("input[type='text']").value,e)}},{className:"ok",label:"确认",callback:function(e){t&&"function"==typeof t&&t(!0,e.querySelector("input[type='text']").value,e)}}]};return o&&o instanceof Array&&(l.buttons[0].label=o[0]?o[0]:l.buttons[0].label,l.buttons[1].label=o[1]?o[1]:l.buttons[1].label),n&&"object"===(void 0===n?"undefined":s(n))&&(l=Object.assign(l,n)),c(l)},multiple:function(e,t,o,n){var l={title:o||"提示信息",className:"multiple",isShowMask:!0,autoHide:!1,contents:e,buttons:t};return n&&"object"===(void 0===n?"undefined":s(n))&&(l=Object.assign(l,n)),c(l)},vertical:function(e,t,o,n){var l={title:o||"提示信息",className:"vertical",isShowMask:!0,autoHide:!1,contents:e,buttons:t};return n&&"object"===(void 0===n?"undefined":s(n))&&(l=Object.assign(l,n)),c(l)},bottomSheet:function(e,t,o){var n={className:"bottom-sheet",isShowMask:!0,contents:e,buttons:t};return o&&"object"===(void 0===o?"undefined":s(o))&&(n=Object.assign(n,o)),c(n)},close:function(e){l(e)}}),{install:function(e,t){t&&(n=Object.assign(n,t)),e.prototype.$message=f},get:function(e){return e&&(n=Object.assign(n,e)),f}}}()},function(e,t,o){"use strict";function n(e){u||o(2)}Object.defineProperty(t,"__esModule",{value:!0});var s=o(4),l=o.n(s),r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"dialog",staticClass:"message fade",class:{mask:e.isShowMask,"message-show":e.show},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.messageFadeClick(t)}}},[o("div",{staticClass:"message-dialog",class:e.className},[o("div",{staticClass:"message-content",style:{height:e.height||"inherit"},on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},[e.title?o("div",{staticClass:"message-header"},[o("div",{staticClass:"message-title",domProps:{innerHTML:e._s(e.title)}})]):e._e(),e._v(" "),e.contents?o("div",{ref:"body",staticClass:"message-body"},[o("div",{staticClass:"message-body-content",domProps:{innerHTML:e._s(e.dynamicContents)}})]):e._e(),e._v(" "),e.buttons.length>0?o("div",{staticClass:"message-footer"},e._l(e.buttons,function(t,n){return o("div",{key:n,staticClass:"message-button",class:t.className,domProps:{innerHTML:e._s(t.label)},on:{click:function(o){return o.stopPropagation(),o.preventDefault(),e.buttonClick(n,t)}}},[e._v(e._s(t.label))])}),0):e._e()])])])},a=[];r._withStripped=!0;var i={render:r,staticRenderFns:a},c=i,u=!1,f=o(3),d=n,h=f(l.a,c,!1,d,null,null);h.options.__file="src\\message.vue",h.esModule&&Object.keys(h.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files.");t.default=h.exports},function(e,t){},function(e,t){e.exports=function(e,t,o,n,s,l){var r,a=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(r=e,a=e.default);var c="function"==typeof a?a.options:a;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId=s);var u;if(l?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},c._ssrRegister=u):n&&(u=n),u){var f=c.functional,d=f?c.render:c.beforeCreate;f?(c._injectStyles=u,c.render=function(e,t){return u.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:r,exports:a,options:c}}},function(e,t,o){"use strict";e.exports={data:function(){return{initCallback:null,show:!1,isShowMask:!1,icon:"",autoHide:!0,className:null,contents:null,title:null,height:"inherit",buttons:[],onClose:null,scrollerData:{startPageY:0,startMaxScroll:0,elScroll:null,selectorScrollable:null}}},computed:{dynamicContents:function(){return this.icon?'<i class="'+this.icon+'"></i>'+this.contents:this.contents}},watch:{show:function(e){!0===e?document.querySelector("html").classList.add("noscroll"):document.querySelector("html").classList.remove("noscroll")}},mounted:function(){},methods:{init:function(){var e=this;this.show=!0,this.$nextTick(function(){e.initCallback&&"function"==typeof e.initCallback&&e.initCallback(e.$refs.body),e.scrollerData&&(e.$refs.dialog.addEventListener("touchstart",e.noScroll),e.$refs.dialog.addEventListener("touchmove",e.noScroll),e.$refs.dialog.addEventListener("touchend",e.noScroll),1!=e.scrollerData&&(e.scrollerData.selectorScrollable&&(e.scrollerData.selectorScrollable=e.$refs.dialog.querySelector(e.scrollerData.selectorScrollable)),e.scrollerData.selectorScrollable&&0!=e.scrollerData.selectorScrollable.length||(e.scrollerData.selectorScrollable=e.$refs.body)))})},reset:function(){this.show&&this.destroyEvent()},noScroll:function(e){if(1==this.scrollerData)return void("touchmove"===e.type&&(e.preventDefault(),e.stopPropagation()));var t=e.touches[0]||e;if("touchstart"===e.type){var o=e.target,n=null;if(o!==this.scrollerData.selectorScrollable&&!function e(t,o,n){return"BODY"!==t.nodeName&&t!==n&&(t===o||e(t.parentNode,o,n))}(e.target,this.scrollerData.selectorScrollable,this.$refs.dialog))return;n=this.scrollerData.selectorScrollable,this.scrollerData.elScroll=n,this.scrollerData.startPageY=t.pageY,this.scrollerData.startMaxScroll=n.scrollHeight-n.clientHeight}else if("touchmove"===e.type){this.scrollerData.startMaxScroll<=0&&e.preventDefault();var s=this.scrollerData.elScroll;if(!s)return;var l=t.pageY-this.scrollerData.startPageY,r=s.scrollTop;if(l>0&&0==r)return void e.preventDefault();if(l<0&&r+1>=this.scrollerData.startMaxScroll)return void e.preventDefault()}else"touchend"==e.type&&(this.scrollerData.startMaxScroll=0)},buttonClick:function(e,t){t.callback&&"function"==typeof t.callback&&this.onClose(t.callback,this.$refs.body)},messageFadeClick:function(){!0===this.autoHide&&(this.autoHide=!1,this.onClose&&"function"==typeof this.onClose&&this.onClose())},destroyEvent:function(){this.scrollerData&&this.scrollerData.selectorScrollable&&(this.scrollerData.selectorScrollable.removeEventListener("touchstart",this.noScroll),this.scrollerData.selectorScrollable.removeEventListener("touchmove",this.noScroll),this.scrollerData.selectorScrollable.removeEventListener("touchend",this.noScroll)),this.scrollerData={startPageY:0,startMaxScroll:0,elScroll:null,selectorScrollable:null}},destroy:function(){this.initCallback=null,this.show=!1,this.isShowMask=!1,this.icon="",this.autoHide=!0,this.className=null,this.contents=null,this.title=null,this.height=null,this.buttons=[],this.destroyEvent()}},beforeDestroy:function(){this.destroy()}}},function(t,o){t.exports=e}])});